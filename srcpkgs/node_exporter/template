# Template file for 'node_exporter'
pkgname=node_exporter
version=1.8.2
revision=1
build_style=go
go_import_path="github.com/prometheus/node_exporter"
go_ldflags="-X ${go_import_path}/version.Version=${version}
 -X ${go_import_path}/version.Revision=${version}
 -X ${go_import_path}/version.Branch=${version}
 -X ${go_import_path}/version.BuildUser=VoidLinux"
short_desc="Exporter for machine metrics"
maintainer="Toyam Cox <Vaelatern@voidlinux.org>"
license="Apache-2.0"
homepage="https://prometheus.io/"
changelog="https://raw.githubusercontent.com/prometheus/node_exporter/master/CHANGELOG.md"
distfiles="https://github.com/prometheus/node_exporter/archive/v${version}.tar.gz"
checksum=f615c70be816550498dd6a505391dbed1a896705eff842628de13a1fa7654e8f

system_accounts="_node_exporter"

post_install() {
	vmkdir  usr/share/examples/$pkgname
	vcopy text_collector_examples usr/share/examples/$pkgname
	vsconf example-rules.yml
	vsv node_exporter
}
